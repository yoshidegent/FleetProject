<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <th:block th:include="fragments/layout :: head('RealDolmen Fleet - Car Model Overview')"/>

    <link rel="stylesheet" type="text/css"
          href="https://cdn.datatables.net/r/bs/dt-1.10.9,af-2.0.0,fc-3.1.0,fh-3.0.0,kt-2.0.0,r-1.0.7,sc-1.3.0,se-1.0.1/datatables.min.css"/>
</head>
<body class="hold-transition skin-rd sidebar-mini">
<div class="wrapper">
    <th:block th:replace="fragments/admin :: header"></th:block>
    <th:block th:replace="fragments/layout :: sidebar(active='orders')"></th:block>

    <!-- Content Wrapper. Contains page content -->
    <div class="content-wrapper">
        <!-- Content Header (Page header) -->
        <section class="content-header">
            <h1>
                Order <th:block th:text="${order.id}"></th:block>
                <small th:text="${order.employee.firstName + ' ' + order.employee.lastName}"></small>
            </h1>
            <ol class="breadcrumb">
                <li><a href="#"><i class="fa fa-dashboard"></i> Home</a></li>
                <li class="active">Car Models</li>
            </ol>
        </section>

        <!-- Main content -->
        <section class="content">
            <div class="row">
                <div class="col-xs-12">
                    <div class="box box-default">
                        <div class="box-header with-border">
                            <h3 class="box-title">Overview</h3>
                            <div class="box-tools pull-right">
                                <a th:if="${order.status != T(com.realdolmen.fleet.CarOrder.OrderStatus).DELIVERED}" href="#"
                                   th:href="@{/admin/order/{id}/deliver(id=${order.id})}"
                                   class="btn btn-flat btn-default">Set delivered</a>
                            </div>
                        </div>

                        <div class="box-body">
                            <dl class="dl-horizontal">
                                <dt>Id</dt>
                                <dd th:text="${order.id}"></dd>

                                <dt>Employee</dt>
                                <dd th:text="${order.employee.firstName + ' ' + order.employee.lastName}"></dd>

                                <dt>Status</dt>
                                <dd><span class="label label-success" th:text="${order.status}"></span></dd>
                            </dl>

                            <h1>Ordered car</h1>
                            <dl class="dl-horizontal">
                                <dt>Brand</dt>
                                <dd th:text="${order.orderedCar.carModel.brand}"></dd>

                                <dt>Model</dt>
                                <dd th:text="${order.orderedCar.carModel.model}"></dd>

                                <dt>Pack</dt>
                                <dd th:text="${order.orderedCar.carModel.pack}"></dd>
                            </dl>

                            <h2>Options</h2>
                            <th:block th:replace="fragments/car :: carOptionTable(${order.orderedCar})"></th:block>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <th:block th:replace="fragments/layout :: footer"></th:block>
</div>

<th:block th:replace="fragments/layout :: scripts"></th:block>
</body>
</html>